<!DOCTYPE html>
<html>
<head>
	<title>Encriptador A-J en base d'Enigma</title>
	<link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.blue-indigo.min.css" />
	<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
	<style type="text/css">
		body {
			margin: 0;
			padding-top: 15px;
		}
		input {
			width: 95%;
			height: 30px;
			border: 0.5;
			font-family: Helvetica, sans-serif;
			font-size: 25px;
			margin-top: 15px;
			margin-bottom: 10px;
			padding-left: 5px;
			padding-right: 5px;

		}
		button {
			margin-top: 15px;
			margin-bottom: 15px;
			
		}
		.final {
			font-family: "Helvetica", sans-serif;
			font-size: 25px;
			font-weight: 500;
			margin-top: 25px;

		}

	</style>
</head>
<body>
<center>
	
	<form action="#">
  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
    <input class="mdl-textfield__input" type="text" id="in" pattern="[a-zàèéíúòóç ]+" onkeyup="this.value = this.value.toLowerCase();">
    <label class="mdl-textfield__label" for="in">Missatge a encriptar...</label>
    <span class="mdl-textfield__error">No és un caràcter vàlid.</span>
  </div>
</form>
	
	
	<form action="#">
  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
    <input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" id="num">
    <label class="mdl-textfield__label" for="num">Nombre clau...</label>
    <span class="mdl-textfield__error">No és un número.</span>
  </div>
</form>
	
<button onclick="Encriptar()" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored">
  Encriptar
</button>
<br><br>
<a href="desencriptar.html">Desencripta un missatge ></a>
	

<p id="out" class="final"></p>
</center>
<script type="text/javascript">
	function Encriptar() {
		var t_in = document.getElementById("in").value;
		var t_num = document.getElementById("num");
		var t_out = document.getElementById("out");

		
		var v02 = t_in.replace(/a/g, "@");
		var variable = v02;
		var v03 = variable.replace(/b/g, "#");
		var variable = v03;
		var v04 = variable.replace(/c/g, "&");
		var variable = v04;
		var v05 = variable.replace(/d/g, "¬");
		var variable = v05;
		var v06 = variable.replace(/e/g, "€");
		var variable = v06;
		var v07 = variable.replace(/f/g, "~");
		var variable = v07;
		var v08 = variable.replace(/g/g, "=");
		var variable = v08;
		var v09 = variable.replace(/h/g, "¿");
		var variable = v09;
		var v10 = variable.replace(/i/g, "¡");
		var variable = v10;
		var v11 = variable.replace(/j/g, "-");
		var variable = v11;
		var v12 = variable.replace(/k/g, "¨");
		var variable = v12;
		var v13 = variable.replace(/l/g, "§");
		var variable = v13;
		var v14 = variable.replace(/m/g, "%");
		var variable = v14;
		var v15 = variable.replace(/n/g, "0");
		var variable = v15;
		var v16 = variable.replace(/o/g, "1");
		var variable = v16;
		var v17 = variable.replace(/p/g, "2");
		var variable = v17;
		var v18 = variable.replace(/q/g, "3");
		var variable = v18;
		var v19 = variable.replace(/r/g, "4");
		var variable = v19;
		var v20 = variable.replace(/s/g, "5");
		var variable = v20;
		var v21 = variable.replace(/t/g, "6");
		var variable = v21;
		var v22 = variable.replace(/u/g, "7");
		var variable = v22;
		var v23 = variable.replace(/v/g, "8");
		var variable = v23;
		var v24 = variable.replace(/w/g, "9");
		var variable = v24;
		var v25 = variable.replace(/x/g, "!");
		var variable = v25;
		var v26 = variable.replace(/y/g, ";");
		var variable = v26;
		var v27 = variable.replace(/z/g, "`");
		var variable = v27;
		var v28 = variable.replace(/à/g, "´");
		var variable = v28;
		var v29 = variable.replace(/è/g, "Ø");
		var variable = v29;
		var v30 = variable.replace(/é/g, "ª");
		var variable = v30;
		var v31 = variable.replace(/í/g, "º");
		var variable = v31;
		var v32 = variable.replace(/ò/g, "<");
		var variable = v32;
		var v33 = variable.replace(/ó/g, ">");
		var variable = v33;
		var v34 = variable.replace(/ú/g, "_");
		var variable = v34;
		var v35 = variable.replace(/ç/g, ":");
		var variable = v35;

		

    "use strict";
    var a = variable;
    var b = document.getElementById("num").value;
    var uc_a = "@#&¬€~=¿¡-¨§%0123456789;!`´Øªº<>_:╬ß╚±©¤≡¶¾¢▒░▓█■£¥Å", 
        z;
    b = Number(b); 
    c = 0; 


    	 if (typeof a === "string") {
        z = a.split(""); 
        uc_a = uc_a.split(""); 
        
        
        z.forEach(function (v, i) {

            var rui;
            
            uc_a.forEach(function (iv, ii) {

                if (v === iv) {
                    if (c === 0) { 
                        rui = ii + b; 
                         
                       
                        z[i] = uc_a[rui]; 
                    }

			 x = z.join("");
			 document.getElementById("out").innerHTML = x;
		
						 
			}
		}) 
		})}

    }



			
</script>
</body>
</html>
